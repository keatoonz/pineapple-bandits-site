<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pineapple Bandits</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Pixel Font -->
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="noscroll">

  <!-- Loader and overlays -->
  <div id="glitch-loader">
    <div class="crt-overlay"></div>
    <div class="logo-flicker">
      <img id="loader-logo" src="assets/logos/main-logo.png" alt="Band Logo" />
    </div>
  </div>
  <div id="crt-noise-loader"></div>
  <div id="crt-noise-overlay"></div>

  <!-- CRT Frame and Scanlines (with fixed corner transforms) -->
  <div class="crt-frame">
    <div class="crt-corner tl"></div>
    <div class="crt-corner tr"></div>
    <div class="crt-corner bl"></div>
    <div class="crt-corner br"></div>
  </div>
  <div class="crt-scanlines"></div>
  <div id="crt-collapse"></div>

  <!-- Main Content: Hidden during loader -->
  <main class="container" style="display:none;">
    <img class="logo" src="assets/logos/main-logo.png" alt="Pineapple Bandits Logo">
    <div class="tagline">Press Start to Enter the World of Pineapple Bandits</div>
   <nav class="ps1-nav" aria-label="Main menu">
  <ul>
    <li><a href="bio.html" class="menu-btn">Bio</a></li>
    <li><a href="music.html" class="menu-btn">Music</a></li>
    <li><a href="tour.html" class="menu-btn">Tour</a></li>
    <li><a href="merch.html" class="menu-btn">Merch</a></li>
    <li><a href="contact.html" class="menu-btn">Contact</a></li>
  </ul>
</nav>
  </main>
<!-- Dust overlay (under border) -->
<div class="crt-dust"></div>
<!-- Border overlay (on top) -->
<img class="crt-border" src="assets/images/border.png" alt="CRT border" draggable="false" />
  <!-- Loader flicker logic -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const altLogos = [
        'assets/logos/main-logo.png',
        'assets/logos/alt1.png',
        'assets/logos/alt2.png',
        'assets/logos/alt3.png',
        'assets/logos/alt4.png'
      ];
      const logo = document.getElementById('loader-logo');
      let index = 0;
      let interval = null;

      if (logo) {
        interval = setInterval(() => {
          logo.src = altLogos[index % altLogos.length];
          index++;
        }, 400);
      }

      setTimeout(() => {
        if (interval) clearInterval(interval);

        // Hide loader & green noise
        const loader = document.getElementById('glitch-loader');
        const noiseLoader = document.getElementById('crt-noise-loader');
        const pinkNoise = document.getElementById('crt-noise-overlay');
        if(loader) loader.style.display = 'none';
        if(noiseLoader) noiseLoader.style.display = 'none';
        if(pinkNoise) pinkNoise.style.display = 'block';

        // Re-enable scrolling and show main content/nav
        document.body.classList.remove('noscroll');
        const main = document.querySelector('.container');
        const nav = document.querySelector('.ps1-nav');
        if(main) main.style.display = '';
        if(nav) nav.style.display = '';
      }, 3000); // Adjust loader duration if needed
    });
  </script>

  <!-- CRT collapse transition on nav click -->
  <script src="assets/js/crt-transition.js"></script>
</body>
</html>
